# wx-shop

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Rust ç¼–å†™çš„åç«¯åº”ç”¨ç¨‹åºï¼Œé‡‡ç”¨äº†åˆ†å±‚æ¶æ„ï¼ˆController-Service-Repositoryï¼‰ã€‚é¡¹ç›®ä½¿ç”¨ **Axum** Web æ¡†æ¶ä»¥åŠ **SQLx** è¿›è¡Œæ•°æ®åº“äº¤äº’ï¼ˆMySQLï¼‰ã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

- **ç¼–ç¨‹è¯­è¨€:** [Rust](https://www.rust-lang.org/) (2024 Edition)
- **Web æ¡†æ¶:** [Axum](https://github.com/tokio-rs/axum)
- **å¼‚æ­¥è¿è¡Œæ—¶:** [Tokio](https://tokio.rs/)
- **æ•°æ®åº“ ORM:** [SQLx](https://github.com/launchbadge/sqlx) (MySQL)
- **é…ç½®ç®¡ç†:** [Config](https://github.com/mehcode/config-rs)
- **æ—¥å¿—/è¿½è¸ª:** [Tracing](https://github.com/tokio-rs/tracing)

## ğŸ“‚ é¡¹ç›®ç»“æ„

é¡¹ç›®æºä»£ç  (`src/`) ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š

```
src/
â”œâ”€â”€ handler/    # è¯·æ±‚å¤„ç†å™¨ (Controllers) - å¤„ç† HTTP è¯·æ±‚å’Œå“åº”
â”œâ”€â”€ models/     # æ•°æ®æ¨¡å‹ - ä»£è¡¨æ•°æ®åº“å®ä½“çš„ç»“æ„ä½“
â”œâ”€â”€ repos/      # ä»“å‚¨å±‚ (Repositories) - æ•°æ®è®¿é—®å±‚ (æ•°æ®åº“æ“ä½œ)
â”œâ”€â”€ service/    # æœåŠ¡å±‚ (Services) - ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ router/     # è·¯ç”± - è·¯ç”±å®šä¹‰ä¸åˆå¹¶
â”œâ”€â”€ lib.rs      # åº“å…¥å£ - é…ç½®åŠ è½½ï¼Œæ•°æ®åº“è¿æ¥æ± è®¾ç½®
â””â”€â”€ main.rs     # åº”ç”¨å…¥å£ - ä¾èµ–æ³¨å…¥å’ŒæœåŠ¡å¯åŠ¨
```

### å…³é”®ç»„ä»¶

- **Main (`main.rs`)**: åˆå§‹åŒ–åº”ç”¨ï¼ŒåŠ è½½é…ç½®ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥æ± ï¼Œè£…é…ä¾èµ– (Repo -> Service -> Handler)ï¼Œå¹¶å¯åŠ¨ Axum æœåŠ¡å™¨ã€‚
- **Lib (`lib.rs`)**: å®šä¹‰é…ç½®ç»“æ„ (`Settings`) å’Œåˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± çš„è¾…åŠ©å‡½æ•°ã€‚
- **Router (`router/mod.rs`)**: å®šä¹‰ API è·¯ç”±å¹¶å°†å®ƒä»¬æ˜ å°„åˆ°å¤„ç†å™¨ã€‚

## âš™ï¸ é…ç½®

åº”ç”¨ä½¿ç”¨ `Settings.toml` æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚

`Settings.toml` ç¤ºä¾‹ï¼š
```toml
[database]
database_url = "mysql://user:password@localhost:3306/dbname"
max_connections = 5
```

## ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

### å‰ç½®è¦æ±‚

- [Rust](https://www.rust-lang.org/tools/install)
- MySQL æ•°æ®åº“

### å®‰è£…æ­¥éª¤

1.  å…‹éš†ä»“åº“ã€‚
2.  ç¡®ä¿æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„ `Settings.toml` æ–‡ä»¶ï¼Œå¹¶åŒ…å«æ­£ç¡®çš„æ•°æ®åº“å‡­æ®ã€‚
3.  å®‰è£…ä¾èµ–ï¼š

    ```bash
    cargo build
    ```

### è¿è¡Œåº”ç”¨

```bash
cargo run
```

æœåŠ¡å™¨å°†åœ¨ `http://0.0.0.0:3000` å¯åŠ¨ã€‚

## ğŸ”Œ API æ¥å£

| æ–¹æ³•   | ç«¯ç‚¹          | æè¿°                  |
| :----- | :------------ | :-------------------- |
| GET    | `/`           | é¦–é¡µ / å¥åº·æ£€æŸ¥       |
| GET    | `/users/{id}` | æ ¹æ® ID è·å–ç”¨æˆ·      |

## ğŸ“ è®¸å¯è¯

[åœ¨æ­¤å¤„æ·»åŠ è®¸å¯è¯ä¿¡æ¯]
